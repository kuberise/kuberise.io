# ADR-0011: Revision History Limit for ArgoCD Applications

## Status

Accepted

## Context

ArgoCD Applications store a history entry for every sync operation. When `spec.revisionHistoryLimit` is not set, ArgoCD defaults to keeping 10 revisions per application. In clusters with frequent syncs this accumulates unnecessary data in etcd, increasing resource usage and backup sizes.

## Decision

Set `revisionHistoryLimit: 3` as the global default for all ArgoCD Applications generated by the app-of-apps template. Individual applications can override this value if they need more (or fewer) stored revisions.

The default of 3 provides enough history to compare recent syncs and support rollback, while keeping etcd storage lean.

## Consequences

- All generated ArgoCD Applications will retain at most 3 revisions by default instead of 10.
- The global default can be changed via `global.revisionHistoryLimit` in `app-of-apps/values.yaml` (the chart defaults file).
- Per-application overrides are supported via the `revisionHistoryLimit` field on each application definition.
- Clusters that need deeper audit history for specific applications can override on a per-app basis.
